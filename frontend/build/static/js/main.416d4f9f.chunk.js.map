{"version":3,"sources":["actions/index.js","controllers/index.js","pages/home_app.js","pages/sala_app.js","components/crear_sala.js","pages/registro_app.js","routes/index.js","App.js","serviceWorker.js","reducer/mensajes.js","reducer/salas.js","reducer/ui.js","store.js","reducer/usuario.js","index.js"],"names":["agregarMensajes","value","console","log","dispatch","type","crearUsuario","offLoading","setTimeout","protocol","window","location","process","IP_WS","ws","prod","salas","chat","useStyles","makeStyles","theme","form","display","input","flexGrow","alignSelf","CrearSala","event","e","useState","setValue","enviar","preventDefault","clases","onSubmit","className","TextField","onChange","target","label","size","variant","Button","onClick","disabled","color","root","top","bottom","left","right","position","menuButton","marginRight","spacing","toolbar","minHeight","alignItems","paddingTop","paddingBottom","title","lista","border","height","marginTop","overflow","HomeApp","useSelector","state","usuario","useDispatch","listaSala","setSalas","history","useHistory","useEffect","initApp","iniciarSalas","close","WebSocket","onopen","onmessage","datos","JSON","parse","data","onclose","onerror","err","AppBar","Toolbar","IconButton","edge","aria-label","push","Laptop","Typography","component","noWrap","ExitToAppRounded","sala","send","stringify","List","map","s","ListItem","key","pk","button","ListItemText","primary","nombre","secondary","creador","fecha","ListItemSecondaryAction","Send","estyles","justifyContent","alignContent","flexDirection","padding","maxWidth","boton","marginLeft","RegistroApp","agregar","Tooltip","width","SalaApp","mensajes","id","useParams","serie","setSerie","iniciarRoom","WS_SALAS_ID","objDiv","document","querySelector","scrollTop","scrollHeight","mensaje","ArrowBack","Badge","badgeContent","People","msj","style","background","text","date","Person","Chat","Divider","InputProps","startAdornment","InputAdornment","Message","htmlColor","endAdornment","placeholder","Routes","path","exact","to","backdrop","zIndex","drawer","App","ui","classes","Backdrop","open","loading","CircularProgress","Boolean","hostname","match","initialMensajes","initialSalas","initialUI","action","reducers","combineReducers","localStorage","setItem","removeItem","getItem","user","createStore","applyMiddleware","thunk","ReactDOM","render","StrictMode","store","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.416d4f9f.chunk.js","sourcesContent":["\nexport const agregarMensajes = value => {\n    console.log('mensajes => ',value);\n    return dispatch =>{\n        dispatch({\n            type:'MENSAJES_ADD',\n            value\n        })\n    }\n}\n\nexport const crearUsuario = value => {\n    return dispatch =>{\n        dispatch({\n            type:'USER_ADD',\n            value\n        })\n    }\n}\n\nexport const onLoading = () => {\n    return dispatch=> dispatch({type:\"UI_LOADING_ON\"});\n}\n\nexport const offLoading = () => {\n    return dispatch=> setTimeout(()=> dispatch({type:\"UI_LOADING_OFF\"}),500);\n}","\nimport {ws} from '../../package.json';\n\n\nconst protocol = window.location.protocol === 'https:' ? 'wss': 'ws';\nconsole.log(\"entorno front \", process.env.NODE_ENV)\nexport const IP_WS  = `${protocol}${process.env.NODE_ENV==='development' ? ws.dev : ws.prod}`;\n\nconsole.log('ip ',IP_WS);\n\n// chat\nexport const WS_CHAT = () => new WebSocket(`${IP_WS}/ws/chat/`);\nexport const WS_CHAT_ROOM = (room,user) => new WebSocket(`${IP_WS}/ws/chat/${room}/${user}/`);\n// salas\nexport const WS_SALAS = () => new WebSocket(`${IP_WS}/ws/salas/`);\nexport const WS_SALAS_ID = id => new WebSocket(`${IP_WS}/ws/sala/${id}/`);\n// usuarios\nexport const WS_USUARIOS = () => new WebSocket(`${IP_WS}/ws/usuarios/`);\nexport const WS_USUARIOS_CHAT = name => new WebSocket(`${IP_WS}/ws/usuarios/${name}/`);","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { crearUsuario, offLoading, onLoading } from '../actions';\nimport { WS_SALAS } from '../controllers';\nimport { AppBar, IconButton, List, ListItem, ListItemSecondaryAction, ListItemText, makeStyles, Toolbar, Typography } from '@material-ui/core';\nimport {  ExitToAppRounded, Laptop, Send } from '@material-ui/icons';\nimport CrearSala from '../components/crear_sala';\nimport { useHistory} from 'react-router-dom';\n\nconst useStyles = makeStyles(theme=>({\n    root: {\n        flexGrow: 1,\n        top:0,\n        bottom:0,\n        left:0,\n        right:0,\n        position:'absolute'\n      },\n      menuButton: {\n        marginRight: theme.spacing(2),\n      },\n      toolbar: {\n        minHeight: 78,\n        alignItems: 'flex-start',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n      },\n    title: {\n        flexGrow: 1,\n        alignSelf: 'flex-end',\n      },\n    lista:{\n        border:' 1px solid #eee',\n        height:'calc(100% - 250px)',\n        marginTop:15,\n        overflow:'auto'\n\n      }\n}));\n\nlet salas;\n\nconst HomeApp = () => {\n    const { usuario=null } = useSelector(state => state);\n    const dispatch = useDispatch();\n    const [listaSala,setSalas] = useState([]);\n    const history = useHistory();\n\n    const clases = useStyles();\n    \n    //eslint-disable-next-line\n    useEffect(()=>initApp(),[]);\n\n    const initApp = () => {\n        dispatch(onLoading());\n        iniciarSalas();\n        return ()=>{\n            salas.close();\n        }\n    }\n\n    const iniciarSalas = () => {\n        salas = WS_SALAS();\n        salas.onopen = ()=>{\n            console.log('conectado...');\n        }\n        salas.onmessage = e => {\n            const datos = JSON.parse( e.data);\n            console.log(datos);\n            setSalas(datos.salas);\n            dispatch(offLoading())\n        };\n        salas.onclose = () => console.log('cerrar conexion...');\n        salas.onerror = err => console.log('error...',err);\n    }\n\n    const enviarSala = sala => {\n        salas.send(JSON.stringify({\n            sala:sala,\n            usuario:usuario\n        }));\n    }\n\n    const salir = () => {\n        dispatch(crearUsuario(null));\n    }\n\n    return(\n        <div className={clases.root}>\n            <AppBar position='sticky' color='primary'>\n                <Toolbar className={clases.toolbar}>\n\n                    <IconButton \n                        edge='start'\n                        aria-label=\"open drawer\"\n                        color='inherit'\n                        onClick={()=>history.push('/')}\n                    >\n                        <Laptop color='inherit' />\n                    </IconButton>\n                    <div className={clases.title}>\n                        <Typography  component='b' variant='h5' noWrap>Bienvenido. </Typography>\n\n                        <Typography component='h5' variant='b' noWrap>App Chat. </Typography>\n\n                        <Typography component='u' variant='u' noWrap> hola : {usuario}</Typography>\n                    </div>\n\n                    <IconButton onClick={salir} color='inherit' edge='end'>\n                        <ExitToAppRounded />\n                    </IconButton>\n\n                </Toolbar>\n            </AppBar>\n\n                <br/>\n                <b>Salas</b>\n                <hr />\n\n                <CrearSala\n                    event={enviarSala}\n                />\n\n                <List  className={clases.lista}>\n                {\n                    listaSala.map(s=>\n                        <ListItem \n                            key={s.pk} \n                            button \n                            onClick={()=>history.push(`/sala/${s.pk}`)}\n                        >\n                            <ListItemText \n                                primary={s.nombre}\n                                secondary={`${s.creador} - ${s.fecha}`}\n                            />\n                            <ListItemSecondaryAction >\n                                <Send />\n                            </ListItemSecondaryAction>\n                        </ListItem>)\n                }\n                </List>\n\n        </div>\n    );\n}\n\nexport default HomeApp;","import React, { Fragment, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { agregarMensajes, offLoading, onLoading } from '../actions';\nimport { WS_SALAS_ID } from '../controllers';\nimport {useHistory, useParams} from 'react-router-dom';\nimport { AppBar, Badge, Divider, IconButton, InputAdornment, List, ListItem, ListItemSecondaryAction, ListItemText, makeStyles, TextField, Toolbar, Typography } from '@material-ui/core';\nimport { ArrowBack, Chat, Message, People, Person, Send } from '@material-ui/icons';\n\nconst useStyles = makeStyles(theme=>({\n    root: {\n        flexGrow: 1,\n        top:0,\n        bottom:0,\n        left:0,\n        right:0,\n        position:'absolute'\n      },\n      menuButton: {\n        marginRight: theme.spacing(2),\n      },\n      toolbar: {\n        minHeight: 78,\n        alignItems: 'flex-start',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n      },\n    title: {\n        flexGrow: 1,\n        alignSelf: 'flex-end',\n      },\n      lista:{\n        height:'calc(100% - 220px)',\n        width:'calc(100% - 5px)',\n        marginTop:15,\n        overflow:'auto'\n      },\n      form:{\n        padding:5,\n        flexGrow: 1,\n        alignSelf: 'flex-end',\n        width:'calc( 100% - 10px )'\n      }\n}));\n\nlet chat;\nconst SalaApp = () => {\n    const { mensajes=[],usuario=null } = useSelector(state => state);\n    const dispatch = useDispatch();\n    const { id } = useParams();\n    const [value,setValue] = useState('');\n    const [serie,setSerie] = useState({});\n    const history = useHistory();\n\n    const clases = useStyles();\n\n    //eslint-disable-next-line\n    useEffect(()=>initApp(),[]);\n\n    const initApp = () => {\n        console.log('sala ',id);\n        dispatch(onLoading());\n        iniciarRoom();\n        return ()=>{\n            chat.close();\n            dispatch(agregarMensajes([]));\n        }\n    }\n\n    const iniciarRoom = () =>{\n        chat = WS_SALAS_ID(id);\n        chat.onopen = ()=>{\n            console.log('conectado...');\n        }\n        chat.onmessage = e => {\n            const {sala,mensajes} = JSON.parse( e.data);\n            console.log(mensajes,sala,mensajes);\n            setSerie(sala);\n            dispatch(agregarMensajes([...mensajes]));\n            const objDiv = document.querySelector(\".msg-container\");\n            objDiv.scrollTop = objDiv.scrollHeight;\n            dispatch(offLoading());\n        };\n        chat.onclose = () => console.log('cerrar conexion...');\n        chat.onerror = err => console.log('error...',err);\n    }\n\n    const send = e => {\n        if(value!==\"\"){\n            chat.send(JSON.stringify({\n                sala:id,\n                usuario:usuario,\n                mensaje:value\n            }));\n            console.log('enviar',value);\n            setValue('')\n        }\n        e.preventDefault();\n    }\n\n    return(\n        <div className={clases.root}>\n            <AppBar position='sticky' color='primary'>\n                <Toolbar className={clases.toolbar}>\n\n                    <IconButton \n                        edge='start'\n                        aria-label=\"open drawer\"\n                        color='inherit'\n                        onClick={()=>history.push('/')}\n                    >\n                        <ArrowBack color='inherit' />\n                    </IconButton>\n                    <div className={clases.title}>\n                        <Typography  component='b' variant='h5' noWrap>Sala : {serie.nombre}</Typography>\n\n                        <Typography component='h5' variant='b' noWrap>Creada: {serie.fecha}</Typography>\n\n                        <Typography component='u' variant='u' noWrap> por : {serie.creador}</Typography>\n                    </div>\n\n                    <IconButton \n                        edge='end'\n                    >\n                        <Badge badgeContent='2' color='secondary'>\n                            <People />\n                        </Badge>\n                    </IconButton>\n\n                </Toolbar>\n            </AppBar>\n\n            <List className={'msg-container ' + clases.lista}>\n                {\n                    mensajes.map(msj=>{\n                        return<Fragment key={msj.pk}>\n                        <ListItem style={{background:usuario === msj.usuario ?'#eeeeee':'white'}} >\n                            <ListItemText \n                                primary={msj.text}\n                                secondary={`${msj.usuario} - ${msj.date} ` }\n                            />\n                            <ListItemSecondaryAction>\n                                {usuario === msj.usuario ? <Person /> : <Chat />}\n                            </ListItemSecondaryAction>\n                        </ListItem>\n                        <Divider />\n                        </Fragment>\n                    })\n                }\n            </List>\n            <form onSubmit={send}>\n                <br/>\n                <TextField \n                    color='primary'\n                    InputProps={{\n                        startAdornment:<InputAdornment position='start'>\n                            <Message htmlColor='#00000080' />\n                        </InputAdornment>,\n                        endAdornment:<InputAdornment position='end'>\n                            <IconButton disabled={value===\"\"} onClick={send}>\n                                <Send color='primary' />\n                            </IconButton>\n                        </InputAdornment>\n                    }}\n                    className={clases.form}\n                    placeholder='mensaje..'\n                    variant='outlined'\n                    value={value}\n                    onChange={e=>setValue(e.target.value)}\n                />\n            </form>\n        </div>\n    )\n}\n\nexport default SalaApp;","import React, { useState } from 'react';\nimport { Button, makeStyles, TextField } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n    form:{\n        display:'flex',\n    },\n    input:{\n    flexGrow:1,\n    alignSelf:'strech'\n    }\n}));\n\nconst CrearSala = ({\n    event=e=>e\n}) => {\n    const [value,setValue] = useState('');\n\n    const enviar = e => {\n        e.preventDefault();\n        event(value);\n        setValue('');\n    }\n\n    const clases = useStyles();\n   \n   return(<form onSubmit={enviar} className={clases.form}>\n    <TextField \n        className={clases.input}\n        value={value}\n        onChange={e=>setValue(e.target.value)}\n        label='Nueva sala'\n        size='small'\n        variant='outlined' \n    />\n    <Button onClick={enviar} disabled={!value} variant='text' color='secondary'>\n        crear\n    </Button>\n</form>);\n}\nexport default CrearSala;","import { AppBar, Button, makeStyles, TextField, Tooltip, Typography } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { crearUsuario } from '../actions';\n\nconst estyles = makeStyles(theme=>({\n    root: {\n        flexGrow: 1,\n        top:0,\n        bottom:0,\n        left:0,\n        right:0,\n        position:'absolute',\n        justifyContent:'center',\n        alignContent:'center',\n        alignItems:'center',\n        flexDirection:'column'\n    },\n    toolbar: {\n        minHeight: 78,\n        alignItems: 'flex-start',\n        paddingTop: theme.spacing(1),\n        paddingBottom: theme.spacing(2),\n      },\n      title: {\n        flexGrow: 1,\n        alignSelf: 'center',\n      },\n    form:{\n        flexGrow:1,\n        padding:10,\n        maxWidth:380\n    },\n    input:{\n        flexGrow:1,\n        alignSelf:'strech'\n    },\n    boton:{\n        marginLeft:5\n    }\n}));\n\nconst RegistroApp = () => {\n    const [value,setValue] = useState('');\n    const dispatch = useDispatch();\n    const clases = estyles();\n\n    const agregar = e => {\n        dispatch(crearUsuario(value));\n        setValue('');\n        e.preventDefault();\n    }\n\n    return(\n        <div className={clases.root}>\n            <AppBar\n                className={clases.toolbar}\n                position='sticky' \n                color='primary'\n            >\n               <Tooltip>\n                    <Typography className={clases.title} variant='h5'>App chat</Typography>\n               </Tooltip>\n           </AppBar>\n\n            <div className={clases.form}>\n                <h4>registro</h4>\n                <form onSubmit={agregar}>\n                    <TextField \n                    className={clases.input}\n                        label='Nombre '\n                        value={value}\n                        onChange={e=>setValue(e.target.value)}\n                        variant='outlined'\n                        size='small'\n                    />\n                    <Button \n                        className={clases.boton}\n                        disabled={value===''} \n                        color='primary' \n                        variant='contained' \n                        onClick={agregar}\n                    >agregar</Button>\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default RegistroApp;","import React, { useEffect } from 'react';\nimport {\n    BrowserRouter as Router,\n    Redirect,\n    Route,\n    Switch\n} from 'react-router-dom';\n\nimport { useSelector } from 'react-redux';\n\nimport HomeApp from '../pages/home_app';\nimport RegistroApp from '../pages/registro_app';\nimport SalaApp from '../pages/sala_app';\n\n\nconst Routes = () => {\n    const {usuario=null} = useSelector(state => state)\n\n    useEffect(()=>initApp());\n\n    const initApp = () => {\n        console.log('rutas',usuario);\n    }\n\n    return(\n        <Router>\n            {usuario!==null ?\n            <Switch>\n                <Route path='/' component={HomeApp} exact/>\n                <Route path='/sala/:id' component={SalaApp} exact/>\n\n                <Route path='' component={()=><Redirect to='/' />} />\n            </Switch>:\n            <Switch>\n                <Route path='/registro' component={RegistroApp} exact/>\n                <Route path='' component={()=><Redirect to='/registro' />} />\n            </Switch>}\n        </Router>\n    );\n}\n\nexport default Routes;\n","import { Backdrop, CircularProgress, makeStyles } from '@material-ui/core';\nimport React, { Fragment } from 'react';\nimport { useSelector } from 'react-redux';\nimport Routes from './routes';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n}));\n\nfunction App() {\n  const {ui} = useSelector(state=>state);\n  const classes = useStyles();\n\n  return (<Fragment>\n      <Routes />\n      <Backdrop className={classes.backdrop} open={ui.loading}>\n        <CircularProgress color='inherit' />\n      </Backdrop>\n  </Fragment>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","\nexport const initialMensajes = [];\n\nexport default (state=initialMensajes,action)=> {\n    switch (action.type) {\n        case 'MENSAJES_ADD':\n            return action.value;\n        default:\n            return state;\n    }\n}","\nexport const initialSalas = [];\n\nexport default  (state=initialSalas,action) => {\n    switch (action.type) {\n        case \"SALAS_ADD\":\n            return action.value;\n        default:\n            return state;\n    }\n}\n","export const initialUI = {\n    loading:true,\n\n}\n\nconst ui = (state=initialUI,action) => {\n    switch (action.type) {\n        case \"UI_LOADING_ON\":\n            return {...state,loading:true};\n        case \"UI_LOADING_OFF\":\n            return {...state,loading:false};\n        default:\n            return state;\n    }\n}\nexport default ui;","\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport mensajes,{initialMensajes} from './reducer/mensajes';\nimport salas, { initialSalas } from './reducer/salas';\nimport ui, { initialUI } from './reducer/ui';\nimport usuario, { initialUsuario } from './reducer/usuario';\n\nconst reducers = combineReducers({\n    mensajes:mensajes,\n    salas:salas,\n    usuario:usuario,\n    ui\n});\n\nexport default createStore(\n    reducers,\n    {\n        mensajes:initialMensajes,\n        salas:initialSalas,\n        usuario:initialUsuario,\n        ui:initialUI,\n    },\n    applyMiddleware(thunk)\n);\n","\nexport const initialUsuario =null \n\nexport default (state=initialUsuario,action) => {\n    switch (action.type) {\n        case \"USER_ADD\":\n            localStorage.setItem('chat_user',action.value);\n            return action.value;\n        case \"USER_REMOVE\":\n            localStorage.removeItem('chat_user');\n            return action.value;\n        default:\n            const data = localStorage.getItem('chat_user');\n            console.log(data)\n            const user = data !== \"null\" ? data : null;\n            return state || user;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}