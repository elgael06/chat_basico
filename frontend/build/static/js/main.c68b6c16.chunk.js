(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{47:function(e){e.exports=JSON.parse('{"a":{"dev":"ws://localhost:8000/","prod":"wss://chatbasico06.herokuapp.com/"}}')},64:function(e,t,n){e.exports=n(74)},74:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(7),l=n.n(c),u=n(18),i=n(51),s=n(11),m=n(53),f=n(38),v=function(e){return function(t){t({type:"USER_ADD",value:e})}},d=n(47).a.dev,E=n(101),h=n(109),g=n(106),p=n(105),b=n(107),j=function(){var e=Object(u.c)((function(e){return e})),t=e.mensajes,n=void 0===t?[]:t,c=e.usuario,l=void 0===c?null:c,i=Object(u.b)(),s=Object(r.useState)(""),j=Object(f.a)(s,2),S=j[0],O=j[1];Object(r.useEffect)((function(){return w()}),[]);var w=function(){var e,t;return e="home",t=l,(a=new WebSocket("".concat(d,"/ws/chat/").concat(e,"/").concat(t,"/"))).onopen=function(){console.log("conectado...")},a.onmessage=function(e){var t=JSON.parse(e.data);console.log(n,t),i(function(e){return console.log("mensajes => ",e),function(t){t({type:"MENSAJES_ADD",value:e})}}(Object(m.a)(t.mensajes))),O("")},a.onclose=function(){return console.log("cerrar conexion...")},a.onerror=function(e){return console.log("error...",e)},function(){return a.close()}};return o.a.createElement("div",null,o.a.createElement(E.a,{onClick:function(){i(v(null))}},o.a.createElement(p.a,null)),o.a.createElement("h3",null,"Home"),o.a.createElement("h4",null,l),o.a.createElement("form",{onSubmit:function(e){a.send(JSON.stringify({message:S,user:l})),e.preventDefault()}},o.a.createElement(h.a,{value:S,onChange:function(e){return O(e.target.value)},variant:"outlined",size:"small",focused:!0}),o.a.createElement(g.a,{type:"submit",variant:"text",color:"secondary",endIcon:o.a.createElement(b.a,null)},"enviar")),o.a.createElement("hr",null),n.map((function(e,t){return o.a.createElement("section",{key:e.usuario+"_"+t},o.a.createElement("b",null,e.usuario),o.a.createElement("p",null,e.message))})))},S=n(108),O=Object(S.a)((function(e){return{container:{display:"flex",justifyContent:"center"},form:{width:300,height:350}}})),w=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(u.b)(),l=O(),i=function(e){c(v(n)),a(""),e.preventDefault()};return o.a.createElement("div",{className:l.container},o.a.createElement("div",{className:l.form},o.a.createElement("h4",null,"registro"),o.a.createElement("form",{onSubmit:i},o.a.createElement(h.a,{label:"Nombre ",value:n,onChange:function(e){return a(e.target.value)},variant:"outlined",fullWidth:!0}),o.a.createElement(g.a,{fullWidth:!0,disabled:""===n,color:"primary",variant:"contained",onClick:i},"agregar"))))},y=function(){return o.a.createElement("div",null,o.a.createElement("h3",null,"sala"))},D=function(){var e=Object(u.c)((function(e){return e})).usuario,t=void 0===e?null:e;Object(r.useEffect)((function(){return n()}));var n=function(){console.log("rutas",t)};return o.a.createElement(i.a,null,null!==t?o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",component:j,exact:!0}),o.a.createElement(s.b,{path:"/sala/:id",component:y,exact:!0}),o.a.createElement(s.b,{path:"",component:function(){return o.a.createElement(s.a,{to:"/"})}})):o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/registro",component:w,exact:!0}),o.a.createElement(s.b,{path:"",component:function(){return o.a.createElement(s.a,{to:"/registro"})}})))};var _=function(){return o.a.createElement(D,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=n(27),A=n(52),x=[],N=[],J=Object(k.c)({mensajes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MENSAJES_ADD":return t.value;default:return e}},salas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SALAS_ADD":return t.value;default:return e}},usuario:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ADD":return localStorage.setItem("chat_user",t.value),t.value;case"USER_REMOVE":return localStorage.removeItem("chat_user"),t.value;default:var n=localStorage.getItem("chat_user");console.log(n);var a="null"!==n?n:null;return e||a}}}),C=Object(k.d)(J,{mensajes:x,salas:N,usuario:null},Object(k.a)(A.a));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:C},o.a.createElement(_,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.c68b6c16.chunk.js.map